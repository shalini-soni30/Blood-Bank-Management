<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add User - Blood Bank</title>
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen"
    style="background-image: url(./img/bb2.jpg); background-size: cover; background-position: center;">

    <!-- Navbar -->
    <nav class="bg-red-800 p-3 shadow-lg fixed top-0 left-0 w-full z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a href="index.html" class="text-3xl font-extrabold text-white tracking-wide no-underline hover:text-black">Blood
                Bank</a>
            <div class="flex space-x-6 items-center">
                <a href="adduser.html"
                    class="bg-white text-red-800 hover:bg-red-600 hover:text-black font-bold py-2 px-4 rounded-full transition duration-300 no-underline">Add
                    User</a>
                <a href="showUser.html"
                    class="bg-white text-red-800 hover:bg-red-600 hover:text-black font-bold py-2 px-4 rounded-full transition duration-300 no-underline">Show
                    Users</a>
                <a href="search.html"
                    class="bg-white text-red-800 hover:bg-red-600 hover:text-black font-bold py-2 px-4 rounded-full transition duration-300 no-underline">Search
                    Users</a>
            </div>
        </div>
    </nav>

    <!-- Centered Main Container -->
    <div class="flex items-center justify-center min-h-screen w-full px-4">
        <div class="flex flex-col md:flex-row items-center justify-center w-full max-w-6xl bg-white shadow-lg rounded-lg overflow-hidden border-2 border-red-500"
            style="margin-top: 15rem;">

            <!-- Form Container -->
            <div class="w-full md:w-1/2 p-8">
                <h2 class="text-3xl font-bold mb-6 text-center text-red-800">Add User</h2>
                <form>
                    <div>
                        <label for="userId" class="block text-lg font-medium text-gray-700 mb-1">User ID</label>
                        <input type="text" id="userId" name="userId"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"
                            required>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div>
                        <label for="name" class="block text-lg font-medium text-gray-700 mb-1">Name</label>
                        <input type="text" id="name" name="name"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"
                            required>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div>
                        <label for="gender" class="block text-lg font-medium text-gray-700 mb-1">Gender</label>
                        <select id="gender" name="gender"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div>
                        <label for="age" class="block text-lg font-medium text-gray-700 mb-1">Age</label>
                        <input type="number" id="age" name="age"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"
                            required>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div>
                        <label for="bloodGroup" class="block text-lg font-medium text-gray-700 mb-1">Blood Group</label>
                        <select id="bloodGroup" name="bloodGroup"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500">
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                        </select>
                     <div>
                        <label for="MobileNo" class="block text-lg font-medium text-gray-700 mb-1">MobileNo</label>
                        <input type="text" id="MobileNo" name="MobileNo"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"
                            required>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div>
                        <label for="city" class="block text-lg font-medium text-gray-700 mb-1">city</label>
                        <input type="text" id="city" name="city"
                            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"
                            required>
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    </div>
                    <hr class="my-4 border-t border-gray-300">
                    <div class="text-center">
                        <button type="button"
                            class="bg-red-800 text-white font-bold py-2 px-6 rounded-full hover:bg-red-600 transition duration-300"
                            id="b1">Add</button>
                    </div>
                </form>
            </div>

        </div>
    </div>

    <!-- jQuery Script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        // Load stored users from localStorage
        function loadUsers() {
            let users = localStorage.getItem("users");
            if (users) {
                return JSON.parse(users);
            } else {
                return [];
            }
        }

        $(document).ready(function () {
            $("#b1").click(function () {
                var uid = $("#userId").val();
                var name = $("#name").val();
                var gender = $("#gender").val();
                var age = $("#age").val();
                var bloodGroup = $("#bloodGroup").val();
                var MobileNo = $("#MobileNo").val();
                var city = $("#city").val();

                // Retrieve existing users from localStorage
                var users = loadUsers();

                // Add new user to the array
                users.push({ userId: uid, name: name, gender: gender, age: age, bloodGroup: bloodGroup, MobileNo: MobileNo, city: city,});

                
                // Save updated users array to localStorage
                localStorage.setItem("users", JSON.stringify(users));

                alert("User added successfully!");

                // Clear form after submission
                $("form")[0].reset();
            });
        });
    </script>

</body>

</html>
